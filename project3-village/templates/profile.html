{% extends "base.html" %}

{% block content %}
<div class="profile-container">
    <h2>Account Settings</h2>
    
    <div class="profile-section">
        <h3>Update Profile</h3>
        <form action="/profile" method="post">
            <input type="hidden" name="action" value="update_username">
            <label>Username:</label>
            <input type="text" name="username" value="{{ current_user.username }}" required>
            <button type="submit">Change Username</button>
        </form>
    </div>

    <div class="profile-section">
        <h3>Change Password</h3>
        <form action="/profile" method="post">
            <input type="hidden" name="action" value="change_password">
            <label>Current Password:</label>
            <input type="password" name="current_password" required>
            <label>New Password:</label>
            <input type="password" name="new_password" required>
            <label>Confirm New Password:</label>
            <input type="password" name="confirm_password" required>
            <button type="submit">Change Password</button>
        </form>
    </div>

    <div class="profile-section">
        <h3>Delete Account</h3>
        <p>Demolish your house, cut ties with all your friends, burn all your money.</p>
        <form action="/profile" method="post" onsubmit="return confirm('Are you sure you want to delete your account? This cannot be undone.');">
            <input type="hidden" name="action" value="delete_account">
            <button type="submit" class="delete-btn">Delete Account</button>
        </form>
    </div>
</div>
{% endblock %}
